/**
* DO NOT EDIT THIS FILE.
* See the following change record for more information,
* https://www.drupal.org/node/2815083
* @preserve
**/
(function vaGovMediaIIFE($, once, Drupal) {
  function trackUploadFileSelection(fileName) {
    if (typeof gtag === "function") {
      gtag("event", "image_upload", {
        event_category: "Media",
        event_label: fileName || "file_selected",
        upload_action: "file_selected"
      });
    }
  }
  function trackUploadButtonClick(label) {
    if (typeof gtag === "function") {
      gtag("event", "image_upload", {
        event_category: "Media",
        event_label: label || "upload_button",
        upload_action: "button_click"
      });
    }
  }
  function trackAddMediaClick(label) {
    console.log('vaGovMedia: trackAddMediaClick called with label:', label);
    if (typeof gtag === "function") {
      gtag("event", "image_upload", {
        event_category: "Media",
        event_label: label || "add_media_button",
        upload_action: "add_media_click"
      });
    }
  }
  function trackAltFieldChanged() {
    if (typeof gtag === "function") {
      gtag("event", "image_upload", {
        event_category: "Media",
        event_label: "alt_field",
        upload_action: "alt_field_changed"
      });
    }
  }
  function trackAiAltGenerationClick() {
    if (typeof gtag === "function") {
      gtag("event", "image_upload", {
        event_category: "Media",
        event_label: "ai_alt_generation",
        upload_action: "ai_generate_click"
      });
    }
  }
  function trackSubmitClick() {
    if (typeof gtag === "function") {
      gtag("event", "image_upload", {
        event_category: "Media",
        event_label: "submit",
        upload_action: "submit_click"
      });
    }
  }
  Drupal.behaviors.vaGovMedia = {
    attach: function vaGovMediaAttach(context) {
      console.log('vaGovMedia: attach called');
      var myButton = document.querySelector('input[data-drupal-selector="edit-field-media-open-button"]');
      if (myButton && !myButton.dataset.listenerAttached) {
        myButton.addEventListener('mousedown', function (event) {
          console.log('Button mousedown!');
          trackAddMediaClick("cbu04905");
        });
        myButton.addEventListener('touchstart', function (event) {
          console.log('Button touchstart!');
          trackAddMediaClick("cbu04905");
        });
        myButton.addEventListener('keydown', function (event) {
          console.log('Button keydown!');
          trackAddMediaClick("cbu04905");
        });
        myButton.dataset.listenerAttached = true;
      }
      var altTextField = document.querySelector("input[data-drupal-selector^='edit-media-0-fields-image-0-alt']");
      if (altTextField && !altTextField.dataset.listenerAttached) {
        altTextField.addEventListener("change", function () {
          trackAltFieldChanged();
          console.log("vaGovMedia: alt field change tracked");
        });
      }
    }
  };
})(jQuery, once, Drupal);