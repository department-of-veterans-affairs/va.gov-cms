services:
  serializer.normalizer.content_entity_tome_sync.va_gov_content_export:
    class: Drupal\va_gov_content_export\Normalizer\ContentEntityNormalizer
    arguments: ['@entity.manager']
    tags:
      - { name: normalizer, priority: 1 }
  tome_sync.exporter.va_gov_conetent_export:
    class: Drupal\va_gov_content_export\TomeExporter
    decorates: tome_sync.exporter
    arguments: ['@tome_sync.storage.content', '@serializer', '@entity_type.manager', '@event_dispatcher', '@account_switcher', '@tome_sync.file_sync']
  va_gov.content_export.breadcrumb_update:
    class: Drupal\va_gov_content_export\AddBreadcrumbToEntity
    arguments: ['@breadcrumb', '@router.route_provider', '@paramconverter_manager']
  va_gov.content_export.content_tar_page_controller:
    class: Drupal\va_gov_content_export\Controller\ContentTar
  va_gov.content_export.access.content_tar_access:
    class: Drupal\va_gov_content_export\Access\ContentTarAccess
    arguments: ['va_gov.content_export.content_tar_uri', '@config.factory']
    calls:
      - [access, ['@current_user']]
    tags:
      - { name: access_check, applies_to: _va_gov_content_tar_exists }
